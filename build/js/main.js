function preloader(){var e=$("body");e.addClass("loaded-hide"),setTimeout(function(){e.addClass("loaded"),e.removeClass("loaded-hide")},500)}function cookieCheck(){var e=$('.galery__view svg[data-view="list"]'),t=$('.galery__view svg[data-view="tiles"]'),a=$(".galery__view svg"),r=$(".galery__content");$.cookie("tiles")&&(a.removeClass("active"),t.addClass("active"),r.addClass("tiles--view"),$.ajax({url:"../articles.html",cache:!1,success:function(e){r.append($(e).filter("#single-article"))}})),$.cookie("list")&&(a.removeClass("active"),e.addClass("active"),r.removeClass("tiles--view"))}function mobileMenu(){var e=$(".header__burger"),t=$(".header__nav ul"),a=$("body");e.click(function(){$(this).toggleClass("menu--active"),a.toggleClass("body--lock"),t.slideToggle()})}function checkWindowWidth(){var e=$(".header__burger"),t=$(".header__nav ul"),a=$("body");750<$(window).width()&&(e.removeClass("menu--active"),a.removeClass("body--lock"),t.removeAttr("style"))}function readMoreBtn(){$(".galery__card-text").each(function(){var e=$(this).html();if($(".galery__view svg").hasClass("active")&&990<$(window).width())var t=340;else t=458;if($(".galery__view svg").hasClass("active")&&$(window).width()<460)t=220;if(e.length>t){var a=e.slice(0,t),r=e.slice(t);$(this).html(a+'<span class="read-more-dots"> ...</span><span class="sliced--text" style="display: none;">'+r+'</span><span class="read-more-btn">Read more<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M441.9 167.3l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L224 328.2 42.9 147.5c-4.7-4.7-12.3-4.7-17 0L6.1 167.3c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7 4.7-12.3 0-17z"/></svg></span>')}}),$(".read-more-btn").click(function(){$(this).parents(".galery__card-text").find(".read-more-dots").toggle(),$(this).parents(".galery__card-text").find(".sliced--text").toggle(500),$(".read-more-btn").toggleClass("spoiler--open"),"Read more"==$(this).text()?$(this).parents(".galery__card-text").find(".read-more-btn").html('Read less<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M441.9 167.3l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L224 328.2 42.9 147.5c-4.7-4.7-12.3-4.7-17 0L6.1 167.3c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7 4.7-12.3 0-17z"/></svg>').show(500):$(this).parents(".galery__card-text").find(".read-more-btn").html('Read more<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M441.9 167.3l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L224 328.2 42.9 147.5c-4.7-4.7-12.3-4.7-17 0L6.1 167.3c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7 4.7-12.3 0-17z"/></svg>').show(500)})}$(window).on("load",function(){preloader(),cookieCheck()}),$(document).ready(function(){mobileMenu(),checkWindowWidth(),readMoreBtn();var e=$(".galery__filters"),t=$(".galery__content"),a=$(".galery__filters-container");new Swiper(".hero-slider__container",{slidesPerView:"auto",spaceBetween:15,centeredSlides:!0,loop:!0,slidesOffsetBefore:0,slidesOffsetAfter:0,height:640,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});function f(){$.ajax({url:"../index.html",cache:!1,success:function(e){$(".galery").append($(e).filter(".galery__content"))}})}function g(){$.ajax({url:"../articles.html",cache:!1,success:function(e){t.append(e),$("#load-more").remove()}})}function h(){var t={};$(".galery__card-title").each(function(){var e=$(this).text();t[e]?$(this).parents(".galery__card").remove():t[e]=!0})}function u(){var e=$("#from-y").val(),t=$("#to-y").val();$(".galery__content").addClass("ajax--loader");for(var a=$(".galery__content").find(".galery__card").map(function(){return $(this).find(".galery__card-date").attr("data-year")}),r=0;r<a.length;++r)a[r]<=t&&a[r]>=e||$(".galery__content").find('.galery__card-date[data-year="'+a[r]+'"]').parents(".galery__card").remove();$(".galery__card").length?($(".nothing-found").remove(),setTimeout(function(){$(".galery__content").removeClass("ajax--loader")},800)):($(".galery__content").removeClass("ajax--loader"),$(".galery__content").html('<div class="nothing-found"><span class="nothing-found__text">No results were found for your search.</span><a class="btn" href="/">Back to home</a></div>'),$("input").prop("disabled",!0),$(".galery__view").css("pointer-events","none"))}$("a[href*=\\#]:not([href=\\#])").click(function(){return null!=$(this).attr("href").substr(1)&&$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500),!1}),$(".galery__view svg").click(function(){var e=$(this).attr("data-view");$(".galery__view svg").removeClass("active"),$(this).addClass("active"),$.removeCookie("tiles",{path:"/"}),$.removeCookie("list",{path:"/"}),$.cookie(e,"active",{expires:7,path:"/"}),"tiles"==e?(t.addClass("tiles--view"),$("#single-article").length||""!=$('input[type="number"]').val()||$.ajax({url:"../articles.html",cache:!1,success:function(e){t.append($(e).filter("#single-article"))}})):(t.removeClass("tiles--view"),$("#single-article").hasClass("loaded")||$('input[type="number"]').val().length||$("#single-article").remove())}),$(".galery__filters-title").click(function(){a.slideToggle(),e.toggleClass("rotate")}),$("#load-more").click(function(){return $.ajax({url:"../articles.html",cache:!1,success:function(e){$("#single-article").length?t.append($(e).not("#single-article")):t.append(e),$("#single-article").addClass("loaded")}}),$(this).hide(),!1}),$('form[name="filters"] input[type="radio"]').change(function(){var a=$(this).val(),r=$("#from-y").val().length,i=$("#to-y").val().length;$(".galery__content").addClass("ajax--loader"),"all"!=a?(f(),g(),setTimeout(function(){for(var e=$(".galery__content").find(".galery__card").map(function(){return $(this).find(".galery__card-rating").attr("data-rating")}),t=0;t<e.length;++t)e[t]>parseInt(a)&&$(".galery__content").find('.galery__card-rating[data-rating="'+e[t]+'"]').parents(".galery__card").remove();r&&i&&u()},100)):(g(),r&&i&&setTimeout(function(){u()},100)),setTimeout(function(){h()},150),setTimeout(function(){$(".galery__content").removeClass("ajax--loader")},800)}),$('form[name="filters"] input[type="number"]').keyup(function(e){var t=$("#from-y").val().length,a=$("#to-y").val().length,r=$(this).attr("maxlength"),i=parseInt(r)+2-$(this).val().length,l=$(this).attr("max"),s=$(this).attr("min");if(0<i)$(this).parent(".galery__filters-field").removeClass("limit"),$(".form-error").hide(100),$('input[type="radio"]').prop("disabled",!1);else{var o=$(this).val();if("Enter"!==e.key&&13!==e.keyCode){var n=o.substring(0,o.length-1);$(this).parent(".galery__filters-field").addClass("limit"),$(".form-error").show(100),$(this).val(n),$('input[type="radio"]').prop("disabled",!0)}}if("Backspace"!==e.key&&8!==e.keyCode&&"Delete"!==e.key&&46!==e.keyCode||($(this).parent(".galery__filters-field").removeClass("limit"),$('input[type="radio"]').prop("disabled",!1)),("Enter"===e.key||13===e.keyCode)&&4==t){var d=$("#from-y").val();setTimeout(function(){d<=l&&s<=d?$("#to-y").focus():($("#from-y").parent(".galery__filters-field").addClass("limit"),$("#from-y").focus(),$(".form-error").show(100),$('input[type="radio"]').prop("disabled",!0))},100)}if(("Enter"===e.key||13===e.keyCode)&&4==a){var c=$("#to-y").val();setTimeout(function(){c<=l&&s<=c&&d<=c?""==t&&$("#from-y").focus():($("#to-y").parent(".galery__filters-field").addClass("limit"),$("#to-y").focus(),$(".form-error").show(100),$('input[type="radio"]').prop("disabled",!0))},100)}$("#from-y").focusout(function(){var e=parseInt($(this).val());(e.length<4||e<s||l<e)&&($("#from-y").parent(".galery__filters-field").addClass("limit"),$("#from-y").focus(),$(".form-error").show(100),$('input[type="radio"]').prop("disabled",!0))}),$("#to-y").focusout(function(){var e=parseInt($(this).val());(e.length<4||e<s||l<e)&&($("#to-y").parent(".galery__filters-field").addClass("limit"),$("#to-y").focus(),$(".form-error").show(100),$('input[type="radio"]').prop("disabled",!0))}),("Enter"===e.key||13===e.keyCode)&&4==a&&4==t&&d<=l&&s<=d&&c<=l&&s<=c&&d<=c&&($('form[name="filters"] input[type="radio"]').is(":checked")?u():(f(),g(),setTimeout(function(){h()},150),setTimeout(function(){u()},100)))})}),$(window).resize(function(){checkWindowWidth()});